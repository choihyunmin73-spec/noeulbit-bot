<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ë…¸ì„ë¹›í•˜ë£¨ AI ì¢…í•© ì§„ë‹¨ ê²°ê³¼</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  background: #f5f7fb;
  font-family: 'Noto Sans KR', sans-serif;
}
.wrap {
  max-width: 1200px;
  margin: 25px auto;
  display: flex;
  gap: 20px;
}
.left, .right {
  background: white;
  border-radius: 16px;
  box-shadow: 0 6px 20px rgba(0,0,0,0.08);
  padding: 28px;
  box-sizing: border-box;
}
.left { flex: 2; }
.right { flex: 1; }
.title {
  font-size: 24px;
  font-weight: 800;
  margin-bottom: 8px;
}
.sub {
  color: #6b7280;
  font-size: 15px;
  margin-bottom: 20px;
}
.section-title {
  font-size: 19px;
  font-weight: 700;
  margin: 20px 0 10px;
  border-left: 5px solid #2f6efc;
  padding-left: 10px;
}
ul {
  list-style: none;
  padding-left: 10px;
}
li {
  margin-bottom: 6px;
  line-height: 1.6;
  font-size: 15.5px;
}
.affiliate-card {
  border: 1px solid #e5e7eb;
  border-radius: 10px;
  padding: 15px;
  margin-bottom: 15px;
  transition: 0.2s;
}
.affiliate-card:hover {
  background: #f1f5ff;
  border-color: #94a3f0;
}
.affiliate-card a {
  text-decoration: none;
  color: #1e3a8a;
  font-weight: 600;
}
.btn {
  background: #2f6efc;
  color: white;
  padding: 18px;
  border-radius: 12px;
  text-align: center;
  font-size: 18px;
  cursor: pointer;
  margin-top: 18px;
}
@media(max-width:900px){
  .wrap { flex-direction: column; }
}
</style>
</head>

<body>

<div class="wrap">

  <!-- ì¢Œì¸¡: AI ì§„ë‹¨ ë‚´ìš© -->
  <div class="left">
    <div class="title">ğŸ’  ë…¸ì„ë¹›í•˜ë£¨ AI ì¢…í•© ì§„ë‹¨ ê²°ê³¼</div>
    <div class="sub">AI ë¶„ì„ ê¸°ë°˜ìœ¼ë¡œ ê°œì¸ ë§ì¶¤í˜• ìƒíƒœë¥¼ ìš”ì•½í•©ë‹ˆë‹¤.</div>

    <div class="section-title">AI ì¢…í•© ì§„ë‹¨ ìš”ì•½</div>
    <ul id="summary"></ul>

    <div class="section-title">ì¢…í•© ì˜ê²¬</div>
    <p id="opinion"></p>

    <div class="btn" onclick="location.href='/'">â† ë‹¤ì‹œ ì§„ë‹¨í•˜ê¸°</div>
  </div>

  <!-- ìš°ì¸¡: ì œíœ´ìƒí’ˆ -->
  <div class="right">
    <div class="section-title">ì¶”ì²œ ì œíœ´ìƒí’ˆ</div>
    <div id="affiliate-list"></div>
  </div>

</div>

<script>
(async function() {
  const params = new URLSearchParams(location.search);
  const topic = params.get("topic") || "ê´€ì ˆ í†µì¦";

  try {
    // âœ… AI ë¶„ì„ ë‚´ìš© ë¶ˆëŸ¬ì˜¤ê¸°
    const analysis = await fetch("analysis.json").then(r => r.json());
    const data = analysis[topic];

    const summaryList = document.getElementById("summary");
    summaryList.innerHTML = data.summary.map(s => `<li>${s}</li>`).join("");
    document.getElementById("opinion").innerText = data.opinion;

    // âœ… ì œíœ´ìƒí’ˆ ë¶ˆëŸ¬ì˜¤ê¸°
    const affiliates = await fetch("affiliate.json").then(r => r.json());
    const list = affiliates[topic] || [];
    const affiliateList = document.getElementById("affiliate-list");
    affiliateList.innerHTML = list.map(a => `
      <div class="affiliate-card">
        <a href="${a.link}" target="_blank">${a.title}</a>
        ${a.desc ? `<div style="font-size:14px;color:#555;">${a.desc}</div>` : ""}
      </div>
    `).join("");
  } catch (err) {
    console.error("ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:", err);
  }
})();
</script>

</body>
</html>
