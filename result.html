<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>AI ê±´ê°• ì§„ë‹¨ ê²°ê³¼ | ë…¸ì„ë¹›í•˜ë£¨</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      font-family: "Noto Sans KR", sans-serif;
      background: #f3f6fb;
      margin: 0;
    }
    .header {
      background: #0f4fff;
      color: #fff;
      text-align: center;
      padding: 22px;
      font-size: 22px;
      font-weight: 700;
    }
    .wrap {
      max-width: 800px;
      margin: 35px auto;
      background: #fff;
      padding: 28px;
      border-radius: 15px;
      box-shadow: 0 5px 18px rgba(0, 0, 0, 0.12);
    }
    .title {
      font-size: 22px;
      font-weight: 700;
      color: #0f4fff;
      margin-bottom: 15px;
    }
    .section {
      margin-top: 25px;
    }
    .sub {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 10px;
      color: #333;
    }
    .list {
      background: #f7f9ff;
      padding: 15px;
      border-radius: 10px;
      line-height: 1.6;
      color: #333;
    }
    .risk {
      text-align: center;
      font-size: 28px;
      font-weight: 700;
      margin: 10px 0;
      color: #0f4fff;
    }
    .highlight {
      color: #ff3b3b;
      font-weight: 700;
    }
    .partner-box {
      display: flex;
      gap: 15px;
      margin-top: 25px;
    }
    .partner {
      flex: 1;
      text-align: center;
      background: #eef3ff;
      border: 2px solid #0f4fff;
      border-radius: 12px;
      padding: 10px;
      cursor: pointer;
      transition: 0.25s;
    }
    .partner:hover {
      background: #dce7ff;
      transform: translateY(-2px);
    }
    .partner img {
      width: 100%;
      height: 180px;
      border-radius: 10px;
      object-fit: cover;
      display: block;
      margin-bottom: 10px;
    }
    .partner p {
      font-weight: 600;
      color: #0f4fff;
      margin: 5px 0;
    }
    .footer {
      margin-top: 30px;
      text-align: center;
      color: #666;
      font-size: 14px;
    }
    @media (max-width: 480px) {
      .partner-box { flex-direction: column; }
      .partner img { height: 160px; }
    }
  </style>
</head>
<body>
  <div class="header">AI ê±´ê°• ì¢…í•© ì§„ë‹¨ ê²°ê³¼</div>
  <div class="wrap">
    <div id="result-area">
      <div class="title">ê²°ê³¼ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...</div>
    </div>
  </div>
  <div class="footer">Â© 2025 ë…¸ì„ë¹›í•˜ë£¨ AI ê±´ê°•ì§„ë‹¨</div>

  <script>
    (function() {
      const container = document.getElementById("result-area");
      const qs = new URLSearchParams(location.search);
      const payload = qs.get("payload");
      if (!payload) {
        container.innerHTML = "<div style='color:#b40000'>ê²°ê³¼ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</div>";
        return;
      }

      let data;
      try {
        data = JSON.parse(decodeURIComponent(payload));
      } catch (e) {
        container.innerHTML = "<div style='color:#b40000'>ë°ì´í„° í•´ì„ ì˜¤ë¥˜ì…ë‹ˆë‹¤.</div>";
        return;
      }

      const { topic, risk, detail, summary, opinion } = data;
      const riskText = risk ? `${risk}%` : "ë¶„ì„ ì¤‘";

      container.innerHTML = `
        <div class="title">ğŸ©º ${topic || "AI ì§„ë‹¨ ê²°ê³¼"}</div>
        <div class="risk">ìœ„í—˜ë„: <span class="highlight">${riskText}</span></div>

        <div class="section">
          <div class="sub">ğŸ“‹ ìƒì„¸ ì§„ë‹¨</div>
          <div class="list">${(detail || []).map(d => "â€¢ " + d).join("<br>")}</div>
        </div>

        <div class="section">
          <div class="sub">ğŸ’¡ ìš”ì•½</div>
          <div class="list">${(summary || []).map(s => "â€¢ " + s).join("<br>")}</div>
        </div>

        <div class="section">
          <div class="sub">ğŸ” ì „ë¬¸ê°€ ì˜ê²¬</div>
          <div class="list">${(opinion || []).map(o => "â€¢ " + o).join("<br>")}</div>
        </div>

        <div class="section">
          <div class="sub">ğŸ”— ì¶”ì²œ ì œíœ´ ì„œë¹„ìŠ¤</div>
          <div class="partner-box">
            <a class="partner" href="https://www.coupang.com/" target="_blank">
              <img src="https://cdn-icons-png.flaticon.com/512/3081/3081871.png" alt="ì˜ì–‘ì œ ì¶”ì²œ" />
              <p>ê±´ê°• ì˜ì–‘ì œ ì¶”ì²œ ë³´ê¸°</p>
            </a>
            <a class="partner" href="https://www.boheom.go.kr/" target="_blank">
              <img src="https://cdn-icons-png.flaticon.com/512/942/942799.png" alt="ë³´í—˜ ìƒë‹´" />
              <p>ë³´í—˜/ì˜ë£Œ ìƒë‹´ ë°”ë¡œê°€ê¸°</p>
            </a>
          </div>
        </div>
      `;
    })();
  </script>
</body>
</html>
