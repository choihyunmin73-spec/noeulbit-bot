<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI ì¢…í•© ì§„ë‹¨ ê²°ê³¼ | ë…¸ì„ë¹›í•˜ë£¨</title>
  <style>
    body {
      font-family: "Noto Sans KR", sans-serif;
      background: #f3f6fb;
      margin: 0;
      padding: 0;
    }
    .header {
      background: #0f4fff;
      color: #fff;
      text-align: center;
      padding: 22px;
      font-size: 22px;
      font-weight: 700;
    }
    .container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      padding: 25px;
    }
    .left, .right {
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 4px 14px rgba(0,0,0,0.08);
      padding: 25px;
    }
    .left {
      flex: 1;
      min-width: 300px;
      max-width: 340px;
    }
    .right {
      flex: 2;
      min-width: 340px;
      max-width: 600px;
    }
    .section-title {
      font-size: 18px;
      color: #0f4fff;
      font-weight: 700;
      border-bottom: 2px solid #dbe3ff;
      padding-bottom: 6px;
      margin-bottom: 14px;
    }
    .summary, .opinion, .detail {
      margin-bottom: 20px;
    }
    .summary li, .opinion li, .detail li {
      margin: 6px 0;
      color: #333;
      line-height: 1.6;
    }
    .risk {
      background: #e8edff;
      border-radius: 8px;
      padding: 10px;
      text-align: center;
      color: #0f4fff;
      font-weight: 700;
      font-size: 18px;
      margin-bottom: 18px;
    }
    .partner-img {
      width: 100%;
      border-radius: 8px;
      margin-bottom: 14px;
      cursor: pointer;
      border: 2px solid transparent;
      transition: 0.25s;
    }
    .partner-img:hover {
      border-color: #0f4fff;
    }
    .ad-title {
      color: #1e293b;
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 8px;
    }
    .footer {
      text-align: center;
      color: #64748b;
      font-size: 13px;
      margin: 25px 0;
    }
    @media (max-width: 768px) {
      .container { flex-direction: column; align-items: center; }
      .left, .right { width: 100%; max-width: 650px; }
    }
  </style>
</head>
<body>
  <div class="header">AI ì¢…í•© ì§„ë‹¨ ê²°ê³¼</div>
  <div class="container">
    
    <!-- âœ… ì¢Œì¸¡: ì œíœ´ìƒí’ˆ -->
    <div class="left">
      <div class="section-title">ì¶”ì²œ ì œíœ´ìƒí’ˆ</div>
      <img src="https://cdn-icons-png.flaticon.com/512/4319/4319103.png"
           class="partner-img"
           onclick="openLink('https://www.coupang.com/vp/products/6714055083')"
           alt="ì˜ì–‘ì œ ì¶”ì²œ" />
      <div class="ad-title">AI ì¶”ì²œ ê±´ê°• ì˜ì–‘ì œ</div>

      <img src="https://cdn-icons-png.flaticon.com/512/2921/2921822.png"
           class="partner-img"
           onclick="openLink('https://www.coupang.com/vp/products/7042438821')"
           alt="ìš´ë™ë³´ì¡°ê¸°ê¸°" />
      <div class="ad-title">í™ˆíŠ¸ë ˆì´ë‹ & í˜ˆì•• ê´€ë¦¬</div>
    </div>

    <!-- âœ… ìš°ì¸¡: ì¢…í•©ì§„ë‹¨ ê²°ê³¼ -->
    <div class="right">
      <div id="topic" class="section-title"></div>
      <div id="risk" class="risk"></div>

      <div class="summary">
        <div class="section-title">ì¢…í•© ìš”ì•½</div>
        <ul id="summary-list"></ul>
      </div>

      <div class="detail">
        <div class="section-title">ì„¸ë¶€ ì§„ë‹¨</div>
        <ul id="detail-list"></ul>
      </div>

      <div class="opinion">
        <div class="section-title">AI ì „ë¬¸ê°€ ì˜ê²¬</div>
        <ul id="opinion-list"></ul>
      </div>
    </div>
  </div>

  <div class="footer">
    Â© 2025 ë…¸ì„ë¹›í•˜ë£¨ | AI ê±´ê°• ì§„ë‹¨ ì„œë¹„ìŠ¤
  </div>

  <script>
    function openLink(url) {
      window.open(url, "_blank");
    }

    (function() {
      const qs = new URLSearchParams(location.search);
      const payload = qs.get("payload");
      let data = null;

      try {
        data = payload ? JSON.parse(decodeURIComponent(payload)) : JSON.parse(localStorage.getItem("aiResult"));
      } catch (e) {
        console.error("âŒ ë°ì´í„° íŒŒì‹± ì˜¤ë¥˜:", e);
      }

      if (!data || !data.success) {
        document.body.innerHTML = "<div style='padding:40px;text-align:center;'>ê²°ê³¼ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.<br>ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ì„¸ìš”.</div>";
        return;
      }

      document.getElementById("topic").textContent = `ğŸ“‹ ${data.topic} ê²°ê³¼`;
      document.getElementById("risk").textContent = `ìœ„í—˜ë„: ${data.risk}%`;

      const summaryList = document.getElementById("summary-list");
      const detailList = document.getElementById("detail-list");
      const opinionList = document.getElementById("opinion-list");

      (data.summary || []).forEach(i => {
        const li = document.createElement("li");
        li.textContent = i;
        summaryList.appendChild(li);
      });

      (data.detail || []).forEach(i => {
        const li = document.createElement("li");
        li.textContent = i;
        detailList.appendChild(li);
      });

      (data.opinion || []).forEach(i => {
        const li = document.createElement("li");
        li.textContent = i;
        opinionList.appendChild(li);
      });
    })();
  </script>
</body>
</html>
